<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academia de Piano - El Canche & El Gordo</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <header class="main-header">
        <div class="logo">üéπ Academia de Piano</div>
        <button id="menu-toggle" class="menu-toggle" aria-label="Toggle navigation">‚ò∞</button>
        <nav id="main-nav" class="main-nav">
            <ul id="nav-list">
                <!-- La navegaci√≥n se renderizar√° din√°micamente con JS -->
            </ul>
        </nav>
    </header>

    <main class="app-container">
        
        <!-- Vista de Inicio y Selecci√≥n de Usuario -->
        <section id="login-view" class="view active">
            <div class="login-container">
                <h1>¬°Bienvenido a tu Academia de Piano!</h1>
                <p>Selecciona tu perfil para comenzar tu viaje musical.</p>
                <div class="user-cards">
                    <div class="user-card" data-user="Benjam√≠n Ram√≠rez (El Canche)">
                        <div class="user-avatar">üéπ</div>
                        <h2>Benjam√≠n Ram√≠rez</h2>
                        <p class="user-nickname">(El Canche)</p>
                    </div>
                    <div class="user-card" data-user="Alcides Ram√≠rez (El Gordo)">
                        <div class="user-avatar">üéµ</div>
                        <h2>Alcides Ram√≠rez</h2>
                        <p class="user-nickname">(El Gordo)</p>
                    </div>
                </div>
                <div class="admin-access">
                    <div class="logo-click" id="admin-trigger"></div>
                </div>
            </div>
        </section>

        <!-- Vista Principal del Dashboard -->
        <section id="dashboard-view" class="view">
            <h1>Bienvenido de nuevo, <span id="current-user-name"></span></h1>
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <h3>Progreso General</h3>
                    <div class="progress-bar-container">
                        <div id="general-progress-bar" class="progress-bar"></div>
                    </div>
                    <p id="progress-percentage">0% Completado</p>
                </div>
                <div class="dashboard-card">
                    <h3>Pr√≥xima Lecci√≥n</h3>
                    <p id="next-lesson">Comienza con el M√≥dulo 1</p>
                </div>
                <div class="dashboard-card">
                    <h3>Estad√≠sticas</h3>
                    <p>Lecciones Completadas: <strong id="lessons-completed-count">0</strong></p>
                    <p>Juegos Jugados: <strong id="games-played-count">0</strong></p>
                </div>
            </div>
        </section>

        <!-- Vista del Curso -->
        <section id="course-view" class="view">
            <h1>M√≥dulos del Curso</h1>
            <div id="modules-container" class="modules-container">
                <!-- Los m√≥dulos se renderizar√°n din√°micamente con JS -->
            </div>
        </section>

        <!-- Vista de Lecci√≥n Individual -->
        <section id="lesson-view" class="view">
            <button id="back-to-course" class="btn btn-secondary">‚Üê Volver al Curso</button>
            <h1 id="lesson-title"></h1>
            <div id="lesson-content" class="lesson-content-area">
                <!-- El contenido de la lecci√≥n se cargar√° aqu√≠ -->
            </div>
        </section>

        <!-- Vista de Ejercicios -->
        <section id="exercises-view" class="view">
            <h1>Ejercicios Pr√°cticos</h1>
            <div class="exercise-list">
                <div class="exercise-card" data-exercise="note-identification">
                    <h3>üéº Identificaci√≥n de Notas - Clave de Sol</h3>
                    <p>¬øPuedes identificar la nota que se muestra en el pentagrama?</p>
                    <button class="btn btn-primary">Comenzar Ejercicio</button>
                </div>
                <div class="exercise-card" data-exercise="note-identification-advanced">
                    <h3>üéµ Identificaci√≥n Avanzada - Claves de Sol y Fa</h3>
                    <p>Ejercicio avanzado con ambas claves musicales.</p>
                    <button class="btn btn-primary">Comenzar Ejercicio</button>
                </div>
            </div>
            <div id="exercise-content" class="exercise-content">
                <canvas id="exercise-canvas" width="800" height="200"></canvas>
                <div id="exercise-feedback"></div>
            </div>
        </section>

        <!-- Vista de Juegos -->
        <section id="games-view" class="view">
            <h1>Juegos para Aprender</h1>
            <div class="games-list">
                <div class="game-card" data-game="piano-runner">
                    <h3>üèÉ Piano Runner</h3>
                    <p>¬°Presiona las teclas correctas antes de que lleguen al fondo!</p>
                    <button class="btn btn-primary">Jugar</button>
                </div>
            </div>
            <div id="game-content" class="game-content">
                <div id="game-ui">
                    <div id="game-score">Puntuaci√≥n: 0</div>
                    <div id="game-lives">Vidas: ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
                </div>
                <canvas id="game-canvas" width="800" height="400"></canvas>
                <div id="game-controls">
                    <button id="start-game-btn" class="btn btn-primary">Iniciar Juego</button>
                </div>
            </div>
        </section>

        <!-- Vista de Herramientas -->
        <section id="tools-view" class="view">
            <h1>Herramientas Musicales</h1>
            <div class="tools-grid">
                <div class="tool-card" id="metronome-tool">
                    <h3>ü•Å Metr√≥nomo</h3>
                    <div class="metronome-controls">
                        <label for="bpm-input">Tempo (BPM):</label>
                        <input type="number" id="bpm-input" value="120" min="40" max="240">
                        <button id="metronome-toggle" class="btn btn-secondary">Iniciar</button>
                        <div class="metronome-indicator"></div>
                    </div>
                </div>
                <div class="tool-card">
                    <h3>üìñ Libro de Canciones</h3>
                    <p>Aqu√≠ encontrar√°s partituras sencillas para practicar.</p>
                    <ul>
                        <li>Brilla, Brilla, Estrellita</li>
                        <li>Cumplea√±os Feliz</li>
                        <li>Oh, Susana</li>
                    </ul>
                </div>
            </div>
        </section>

    </main>

    <!-- Modal para Contrase√±a -->
    <div id="password-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Ingresa tu Contrase√±a</h2>
            <p>Usuario: <strong id="modal-username"></strong></p>
            <input type="password" id="password-input" placeholder="Contrase√±a">
            <button id="login-submit-btn" class="btn btn-primary">Ingresar</button>
            <p id="login-error" class="error-message"></p>
        </div>
    </div>

    <!-- Piano Virtual (se puede mostrar en varias vistas) -->
    <div id="virtual-piano" class="virtual-piano-container">
        <div class="piano-labels">
            <span class="piano-label" data-note="C">C</span>
            <span class="piano-label" data-note="D">D</span>
            <span class="piano-label" data-note="E">E</span>
            <span class="piano-label" data-note="F">F</span>
            <span class="piano-label" data-note="G">G</span>
            <span class="piano-label" data-note="A">A</span>
            <span class="piano-label" data-note="B">B</span>
            <span class="piano-label" data-note="C2">C</span>
        </div>
        <div class="piano-keys">
            <!-- Las teclas se generar√°n con JS -->
        </div>
    </div>
    
    <!-- Spinner de Carga -->
    <div id="loading-spinner" class="loading-spinner"></div>

    <script src="js/app.js"></script>
</body>
</html>